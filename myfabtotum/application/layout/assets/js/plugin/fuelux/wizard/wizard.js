var old=$.fn.wizard;var Wizard=function(e,t){var n;this.$element=$(e);this.options=$.extend({},$.fn.wizard.defaults,t);this.options.disablePreviousStep=this.$element.data().restrict==="previous"?true:false;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");n=this.$nextBtn.children().detach();this.nextText=$.trim(this.$nextBtn.text());this.$nextBtn.append(n);this.$prevBtn.on("click",$.proxy(this.previous,this));this.$nextBtn.on("click",$.proxy(this.next,this));this.$element.on("click","li.complete",$.proxy(this.stepclicked,this));if(this.currentStep>1){this.selectedItem(this.options.selectedItem)}if(this.options.disablePreviousStep){this.$prevBtn.attr("disabled",true);this.$element.find(".steps").addClass("previous-disabled")}};Wizard.prototype={constructor:Wizard,setState:function(){var e=this.currentStep>1;var t=this.currentStep===1;var n=this.currentStep===this.numSteps;if(!this.options.disablePreviousStep){this.$prevBtn.attr("disabled",t===true||e===false)}var r=this.$nextBtn.data();if(r&&r.last){this.lastText=r.last;if(typeof this.lastText!=="undefined"){var i=n!==true?this.nextText:this.lastText;var s=this.$nextBtn.children().detach();this.$nextBtn.text(i).append(s)}}var o=this.$element.find(".steps li");o.removeClass("active").removeClass("complete");o.find("span.badge").removeClass("badge-info").removeClass("badge-success");var u=".steps li:lt("+(this.currentStep-1)+")";var a=this.$element.find(u);a.addClass("complete");a.find("span.badge").addClass("badge-success");var f=".steps li:eq("+(this.currentStep-1)+")";var l=this.$element.find(f);l.addClass("active");l.find("span.badge").addClass("badge-info");var c=l.data().target;this.$element.next(".step-content").find(".step-pane").removeClass("active");$(c).addClass("active");this.$element.find(".steps").first().attr("style","margin-left: 0");var h=0;this.$element.find(".steps > li").each(function(){h+=$(this).outerWidth()});var p=0;if(this.$element.find(".actions").length){p=this.$element.width()-this.$element.find(".actions").first().outerWidth()}else{p=this.$element.width()}if(h>p){var d=h-p;this.$element.find(".steps").first().attr("style","margin-left: -"+d+"px");if(this.$element.find("li.active").first().position().left<200){d+=this.$element.find("li.active").first().position().left-200;if(d<1){this.$element.find(".steps").first().attr("style","margin-left: 0")}else{this.$element.find(".steps").first().attr("style","margin-left: -"+d+"px")}}}this.$element.trigger("changed")},stepclicked:function(e){var t=$(e.currentTarget);var n=this.$element.find(".steps li").index(t);var r=true;if(this.options.disablePreviousStep){if(n<this.currentStep){r=false}}if(r){var i=$.Event("stepclick");this.$element.trigger(i,{step:n+1});if(i.isDefaultPrevented())return;this.currentStep=n+1;this.setState()}},previous:function(){var e=this.currentStep>1;if(this.options.disablePreviousStep){e=false}if(e){var t=$.Event("change");this.$element.trigger(t,{step:this.currentStep,direction:"previous"});if(t.isDefaultPrevented())return;this.currentStep-=1;this.setState()}},next:function(){var e=this.currentStep+1<=this.numSteps;var t=this.currentStep===this.numSteps;if(e){var n=$.Event("change");this.$element.trigger(n,{step:this.currentStep,direction:"next"});if(n.isDefaultPrevented())return;this.currentStep+=1;this.setState()}else if(t){this.$element.trigger("finished")}},selectedItem:function(e){var t,n;if(e){n=e.step||-1;if(n>=1&&n<=this.numSteps){this.currentStep=n;this.setState()}t=this}else{t={step:this.currentStep}}return t}};$.fn.wizard=function(e){var t=Array.prototype.slice.call(arguments,1);var n;var r=this.each(function(){var r=$(this);var i=r.data("wizard");var s=typeof e==="object"&&e;if(!i)r.data("wizard",i=new Wizard(this,s));if(typeof e==="string")n=i[e].apply(i,t)});return n===undefined?r:n};$.fn.wizard.defaults={selectedItem:{step:1}};$.fn.wizard.Constructor=Wizard;$.fn.wizard.noConflict=function(){$.fn.wizard=old;return this};$(function(){$("body").on("mouseover.wizard.data-api",".wizard",function(){var e=$(this);if(e.data("wizard"))return;e.wizard(e.data())})})