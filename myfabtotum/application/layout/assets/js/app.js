function nav_page_height(){var e=$("#main").height();var t=$(window).height()-$.navbar_height;if(e>t){$.left_panel.css("min-height",e+"px");$.root_.css("min-height",e+$.navbar_height+"px")}else{$.left_panel.css("min-height",t+"px");$.root_.css("min-height",t+"px")}}function check_if_mobile_width(){if($(window).width()<979){$.root_.addClass("mobile-view-activated")}else if($.root_.hasClass("mobile-view-activated")){$.root_.removeClass("mobile-view-activated")}}function launchFullscreen(e){if(!$.root_.hasClass("full-screen")){$.root_.addClass("full-screen");if(e.requestFullscreen){e.requestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}}else{$.root_.removeClass("full-screen");if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}function runAllForms(){if($.fn.select2){$(".select2").each(function(){var e=$(this);var t=e.attr("data-select-width")||"100%";e.select2({allowClear:true,width:t})})}if($.fn.mask){$("[data-mask]").each(function(){var e=$(this);var t=e.attr("data-mask")||"error...",n=e.attr("data-mask-placeholder")||"X";e.mask(t,{placeholder:n})})}if($.fn.autocomplete){$("[data-autocomplete]").each(function(){var e=$(this);var t=e.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];e.autocomplete({source:t})})}if($.fn.datepicker){$(".datepicker").each(function(){var e=$(this);var t=e.attr("data-dateformat")||"dd.mm.yy";e.datepicker({dateFormat:t,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'})})}$("button[data-loading-text]").on("click",function(){var e=$(this);e.button("loading");setTimeout(function(){e.button("reset")},3e3)})}function runAllCharts(){if($.fn.sparkline){$(".sparkline").each(function(){var e=$(this);var t=e.data("sparkline-type")||"bar";if(t=="bar"){var n=e.data("sparkline-bar-color")||e.css("color")||"#0000f0",r=e.data("sparkline-height")||"26px",i=e.data("sparkline-barwidth")||5,s=e.data("sparkline-barspacing")||2,o=e.data("sparkline-negbar-color")||"#A90329",u=e.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"];e.sparkline("html",{type:"bar",barColor:n,type:t,height:r,barWidth:i,barSpacing:s,stackedBarColor:u,negBarColor:o,zeroAxis:"false"})}if(t=="line"){var r=e.data("sparkline-height")||"20px",a=e.data("sparkline-width")||"90px",f=e.data("sparkline-line-color")||e.css("color")||"#0000f0",l=e.data("sparkline-line-width")||1,c=e.data("fill-color")||"#c0d0f0",h=e.data("sparkline-spot-color")||"#f08000",p=e.data("sparkline-minspot-color")||"#ed1c24",d=e.data("sparkline-maxspot-color")||"#f08000",v=e.data("sparkline-highlightspot-color")||"#50f050",m=e.data("sparkline-highlightline-color")||"f02020",g=e.data("sparkline-spotradius")||1.5;thisChartMinYRange=e.data("sparkline-min-y")||"undefined",thisChartMaxYRange=e.data("sparkline-max-y")||"undefined",thisChartMinXRange=e.data("sparkline-min-x")||"undefined",thisChartMaxXRange=e.data("sparkline-max-x")||"undefined",thisMinNormValue=e.data("min-val")||"undefined",thisMaxNormValue=e.data("max-val")||"undefined",thisNormColor=e.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=e.data("draw-normal")||false;e.sparkline("html",{type:"line",width:a,height:r,lineWidth:l,lineColor:f,fillColor:c,spotColor:h,minSpotColor:p,maxSpotColor:d,highlightSpotColor:v,highlightLineColor:m,spotRadius:g,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop})}if(t=="pie"){var y=e.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],b=e.data("sparkline-piesize")||90,w=e.data("border-color")||"#45494C",E=e.data("sparkline-offset")||0;e.sparkline("html",{type:"pie",width:b,height:b,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:y,offset:0,borderWidth:1,offset:E,borderColor:w})}if(t=="box"){var S=e.data("sparkline-width")||"auto",x=e.data("sparkline-height")||"auto",T=e.data("sparkline-boxraw")||false,N=e.data("sparkline-targetval")||"undefined",C=e.data("sparkline-min")||"undefined",k=e.data("sparkline-max")||"undefined",L=e.data("sparkline-showoutlier")||true,A=e.data("sparkline-outlier-iqr")||1.5,O=e.data("sparkline-spotradius")||1.5,M=e.css("color")||"#000000",_=e.data("fill-color")||"#c0d0f0",D=e.data("sparkline-whis-color")||"#000000",P=e.data("sparkline-outline-color")||"#303030",H=e.data("sparkline-outlinefill-color")||"#f0f0f0",B=e.data("sparkline-outlinemedian-color")||"#f00000",j=e.data("sparkline-outlinetarget-color")||"#40a020";e.sparkline("html",{type:"box",width:S,height:x,raw:T,target:N,minValue:C,maxValue:k,showOutliers:L,outlierIQR:A,spotRadius:O,boxLineColor:M,boxFillColor:_,whiskerColor:D,outlierLineColor:P,outlierFillColor:H,medianColor:B,targetColor:j})}if(t=="bullet"){var F=e.data("sparkline-height")||"auto",I=e.data("sparkline-width")||2,q=e.data("sparkline-bullet-color")||"#ed1c24",R=e.data("sparkline-performance-color")||"#3030f0",U=e.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"];e.sparkline("html",{type:"bullet",height:F,targetWidth:I,targetColor:q,performanceColor:R,rangeColors:U})}if(t=="discrete"){var z=e.data("sparkline-height")||26,W=e.data("sparkline-width")||50,X=e.css("color"),V=e.data("sparkline-line-height")||5,J=e.data("sparkline-threshold")||"undefined",K=e.data("sparkline-threshold-color")||"#ed1c24";e.sparkline("html",{type:"discrete",width:W,height:z,lineColor:X,lineHeight:V,thresholdValue:J,thresholdColor:K})}if(t=="tristate"){var Q=e.data("sparkline-height")||26,G=e.data("sparkline-posbar-color")||"#60f060",Y=e.data("sparkline-negbar-color")||"#f04040",Z=e.data("sparkline-zerobar-color")||"#909090",et=e.data("sparkline-barwidth")||5,tt=e.data("sparkline-barspacing")||2,nt=e.data("sparkline-zeroaxis")||false;e.sparkline("html",{type:"tristate",height:Q,posBarColor:rt,negBarColor:Y,zeroBarColor:Z,barWidth:et,barSpacing:tt,zeroAxis:nt})}if(t=="compositebar"){var r=e.data("sparkline-height")||"20px",a=e.data("sparkline-width")||"100%",i=e.data("sparkline-barwidth")||3,l=e.data("sparkline-line-width")||1,f=e.data("sparkline-color-top")||"#ed1c24",rt=e.data("sparkline-color-bottom")||"#333333";e.sparkline(e.data("sparkline-bar-val"),{type:"bar",width:a,height:r,barColor:rt,barWidth:i});e.sparkline(e.data("sparkline-line-val"),{width:a,height:r,lineColor:f,lineWidth:l,composite:true,fillColor:false})}if(t=="compositeline"){var r=e.data("sparkline-height")||"20px",a=e.data("sparkline-width")||"90px",it=e.data("sparkline-bar-val"),st=e.data("sparkline-bar-val-spots-top")||null,ot=e.data("sparkline-bar-val-spots-bottom")||null,ut=e.data("sparkline-line-width-top")||1,at=e.data("sparkline-line-width-bottom")||1,ft=e.data("sparkline-color-top")||"#333333",lt=e.data("sparkline-color-bottom")||"#ed1c24",ct=e.data("sparkline-spotradius-top")||1.5,ht=e.data("sparkline-spotradius-bottom")||ct,h=e.data("sparkline-spot-color")||"#f08000",pt=e.data("sparkline-minspot-color-top")||"#ed1c24",dt=e.data("sparkline-maxspot-color-top")||"#f08000",vt=e.data("sparkline-minspot-color-bottom")||pt,mt=e.data("sparkline-maxspot-color-bottom")||dt,gt=e.data("sparkline-highlightspot-color-top")||"#50f050",yt=e.data("sparkline-highlightline-color-top")||"#f02020",bt=e.data("sparkline-highlightspot-color-bottom")||gt,wt=e.data("sparkline-highlightline-color-bottom")||yt,Et=e.data("sparkline-fillcolor-top")||"transparent",St=e.data("sparkline-fillcolor-bottom")||"transparent";e.sparkline(it,{type:"line",spotRadius:ct,spotColor:h,minSpotColor:pt,maxSpotColor:dt,highlightSpotColor:gt,highlightLineColor:yt,valueSpots:st,lineWidth:ut,width:a,height:r,lineColor:ft,fillColor:Et});e.sparkline(e.data("sparkline-line-val"),{type:"line",spotRadius:ht,spotColor:h,minSpotColor:vt,maxSpotColor:mt,highlightSpotColor:bt,highlightLineColor:wt,valueSpots:ot,lineWidth:at,width:a,height:r,lineColor:lt,composite:true,fillColor:St})}})}if($.fn.easyPieChart){$(".easy-pie-chart").each(function(){var e=$(this);var t=e.css("color")||e.data("pie-color"),n=e.data("pie-track-color")||"#eeeeee",r=parseInt(e.data("pie-size"))||25;e.easyPieChart({barColor:t,trackColor:n,scaleColor:false,lineCap:"butt",lineWidth:parseInt(r/8.5),animate:1500,rotate:-90,size:r,onStep:function(e){this.$el.find("span").text(~~e)}})})}}function setup_widgets_desktop(){if($.fn.jarvisWidgets&&$.enableJarvisWidgets){$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:true,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:true,buttonsHidden:false,toggleButton:true,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:true,deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:true,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:true,fullscreenButton:true,fullscreenClass:"fa fa-resize-full | fa fa-resize-small",fullscreenDiff:3,onFullscreen:function(){},customButton:false,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:true,indicatorTime:600,ajax:true,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:true,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:false,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}}function setup_widgets_mobile(){if($.enableMobileWidgets&&$.enableJarvisWidgets){setup_widgets_desktop()}}function loadScript(e,t){if(!jsArray[e]){jsArray[e]=true;var n=document.getElementsByTagName("body")[0];var r=document.createElement("script");r.type="text/javascript";r.src=e;r.onload=t;n.appendChild(r)}else if(t){t()}}function checkURL(){var e=location.hash.replace(/^#/,"");container=$("#content");if(e){$("nav li.active").removeClass("active");$('nav li:has(a[href="'+e+'"])').addClass("active");var t=$('nav a[href="'+e+'"]').attr("title");document.title=t||document.title;loadURL(e+location.search,container)}else{var n=$('nav > ul > li:first-child > a[href!="#"]');window.location.hash=n.attr("href")}}function loadURL(e,t){$.ajax({type:"GET",url:e,dataType:"html",cache:true,beforeSend:function(){t.html('<h1><i class="fa fa-cog fa-spin"></i> Loading...</h1>');if(t[0]==$("#content")[0]){drawBreadCrumb();$("html").animate({scrollTop:0},"fast")}},success:function(e){t.css({opacity:"0.0"}).html(e).delay(50).animate({opacity:"1.0"},300)},error:function(e,n,r){t.html('<h4 style="margin-top:10px; display:block; text-align:left"><i class="fa fa-warning txt-color-orangeDark"></i> Error 404! Page not found.</h4>')},async:false})}function drawBreadCrumb(){var e=$("nav li.active > a"),t=e.length;$.bread_crumb.empty();$.bread_crumb.append($("<li>Home</li>"));e.each(function(){$.bread_crumb.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text())));if(!--t)document.title=$.bread_crumb.find("li:last-child").text()})}function pageSetUp(){if($.device==="desktop"){$("[rel=tooltip]").tooltip();$("[rel=popover]").popover();$("[rel=popover-hover]").popover({trigger:"hover"});runAllCharts();setup_widgets_desktop();nav_page_height();runAllForms()}else{$("[rel=popover]").popover();$("[rel=popover-hover]").popover({trigger:"hover"});runAllCharts();setup_widgets_mobile();nav_page_height();runAllForms()}}$.throttle_delay=350;$.menu_speed=235;$.navbar_height=49;$.root_=$("body");$.left_panel=$("#left-panel");$.shortcut_dropdown=$("#shortcut");$.bread_crumb=$("#ribbon ol.breadcrumb");$.device=null;$.navAsAjax=false;$.enableJarvisWidgets=true;$.enableMobileWidgets=true;var ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());if(!ismobile){$.root_.addClass("desktop-detected");$.device="desktop"}else{$.root_.addClass("mobile-detected");$.device="mobile"}$(document).ready(function(){function e(){$this=$("#activity > .badge");if(parseInt($this.text())>0){$this.addClass("bg-color-red bounceIn animated")}}function t(){window.location=$.loginURL}function n(){$.shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc");$.root_.removeClass("shortcut-on")}function r(){$.shortcut_dropdown.animate({height:"show"},200,"easeOutCirc");$.root_.addClass("shortcut-on")}if($("[rel=tooltip]").length){$("[rel=tooltip]").tooltip()}nav_page_height();if(!null){$("nav ul").jarvismenu({accordion:true,speed:$.menu_speed,closedSign:'<em class="fa fa-expand-o"></em>',openedSign:'<em class="fa fa-collapse-o"></em>'})}else{alert("Error - menu anchor does not exist")}$(".minifyme").click(function(e){$("body").toggleClass("minified");$(this).effect("highlight",{},500);e.preventDefault()});$("#hide-menu >:first-child > a").click(function(e){$("body").toggleClass("hidden-menu");e.preventDefault()});$("#show-shortcut").click(function(e){if($.shortcut_dropdown.is(":visible")){n()}else{r()}e.preventDefault()});$("#search-mobile").click(function(){$.root_.addClass("search-mobile")});$("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")});$("#activity").click(function(e){var t=$(this);if(!t.next(".ajax-dropdown").is(":visible")){t.next(".ajax-dropdown").fadeIn(150);t.addClass("active")}else{t.next(".ajax-dropdown").fadeOut(150);t.removeClass("active")}e.preventDefault()});$('input[name="activity"]').change(function(){var e=$(this);url=e.attr("id");container=$(".ajax-notifications");loadURL(url,container)});$(document).mouseup(function(e){if(!$(".ajax-dropdown").is(e.target)&&$(".ajax-dropdown").has(e.target).length===0){$(".ajax-dropdown").fadeOut(150);$(".ajax-dropdown").prev().removeClass("active")}});$("button[data-loading-text]").on("click",function(){var e=$(this);e.button("loading");setTimeout(function(){e.button("reset")},3e3)});e();$("#refresh").click(function(e){$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",content:"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Yes]"},function(e){if(e=="Yes"&&localStorage){localStorage.clear();location.reload()}});e.preventDefault()});$("#logout a").click(function(e){var n=$(this);$.loginURL=n.attr("href");$.logoutMSG=n.data("logout-msg");$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"</strong></span> ?",content:$.logoutMSG||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(e){if(e=="Yes"){$.root_.addClass("animated fadeOutUp");setTimeout(t,1e3)}});e.preventDefault()});$.shortcut_dropdown.find("a").click(function(e){e.preventDefault();window.location=$(this).attr("href");setTimeout(n,300)});$(document).mouseup(function(e){if(!$.shortcut_dropdown.is(e.target)&&$.shortcut_dropdown.has(e.target).length===0){n()}});var i=$(".ajax-dropdown").find(".btn-group > .active > input").attr("id");container=$(".ajax-notifications");loadURL(i,container)});(function(e,t,n){function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);if(n!==i.w||r!==i.h){t.trigger(u,[i.w=n,i.h=r])}});c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=e.throttle_delay;i[l]=true;e.event.special[u]={setup:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.add(t);e.data(this,a,{w:t.width(),h:t.height()});if(r.length===1){c()}},teardown:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.not(t);t.removeData(a);if(!r.length){clearTimeout(s)}},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width();u.h=s!==n?s:o.height();r.apply(this,arguments)}if(!i[l]&&this[o]){return false}var r;if(e.isFunction(t)){r=t;return s}else{r=t.handler;t.handler=s}}};})(jQuery,this);$("#main").resize(function(){nav_page_height();check_if_mobile_width()});$("nav").resize(function(){nav_page_height()});var ie=function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0]);return t>4?t:e}();$.fn.extend({jarvismenu:function(e){var t={accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"};var n=$.extend(t,e);var r=$(this);r.find("li").each(function(){if($(this).find("ul").size()!=0){$(this).find("a:first").append("<b class='collapse-sign'>"+n.closedSign+"</b>");if($(this).find("a:first").attr("href")=="#"){$(this).find("a:first").click(function(){return false})}}});r.find("li.active").each(function(){$(this).parents("ul").slideDown(n.speed);$(this).parents("ul").parent("li").find("b:first").html(n.openedSign);$(this).parents("ul").parent("li").addClass("open")});r.find("li a").click(function(){if($(this).parent().find("ul").size()!=0){if(n.accordion){if(!$(this).parent().find("ul").is(":visible")){parents=$(this).parent().parents("ul");visible=r.find("ul:visible");visible.each(function(e){var t=true;parents.each(function(n){if(parents[n]==visible[e]){t=false;return false}});if(t){if($(this).parent().find("ul")!=visible[e]){$(visible[e]).slideUp(n.speed,function(){$(this).parent("li").find("b:first").html(n.closedSign);$(this).parent("li").removeClass("open")})}}})}}if($(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")){$(this).parent().find("ul:first").slideUp(n.speed,function(){$(this).parent("li").removeClass("open");$(this).parent("li").find("b:first").delay(n.speed).html(n.closedSign)})}else{$(this).parent().find("ul:first").slideDown(n.speed,function(){$(this).parent("li").addClass("open");$(this).parent("li").find("b:first").delay(n.speed).html(n.openedSign)})}}})}});jQuery.fn.doesExist=function(){return jQuery(this).length>0};var gMapsLoaded=false;window.gMapsCallback=function(){gMapsLoaded=true;$(window).trigger("gMapsLoaded")};window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src","http://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback");(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)};var jsArray={};if($.navAsAjax){if($("nav").length){checkURL()}$(document).on("click",'nav a[href!="#"]',function(e){e.preventDefault();var t=$(e.currentTarget);if(!t.parent().hasClass("active")&&!t.attr("target")){if($.root_.hasClass("mobile-view-activated")){$.root_.removeClass("hidden-menu");window.setTimeout(function(){if(window.location.search){window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href")}else{window.location.hash=t.attr("href")}},150)}else{if(window.location.search){window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+t.attr("href")}else{window.location.hash=t.attr("href")}}}});$(document).on("click",'nav a[target="_blank"]',function(e){e.preventDefault();var t=$(e.currentTarget);window.open(t.attr("href"))});$(document).on("click",'nav a[target="_top"]',function(e){e.preventDefault();var t=$(e.currentTarget);window.location=t.attr("href")});$(document).on("click",'nav a[href="#"]',function(e){e.preventDefault()});$(window).on("hashchange",function(){checkURL()})}$("body").on("click",function(e){$('[rel="popover"]').each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&$(".popover").has(e.target).length===0){$(this).popover("hide")}})})